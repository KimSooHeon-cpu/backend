<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gym.mapper.PostMapper">
<?xml version="1.0" encoding="UTF-8"?>
 !DOCTYPE    <!--PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper  Oracle 11g 호환 페이징 쿼리 -->PostMapper">

<mapper namespace="com.gym.mapper.
    <!-- Oracle 11g 호환 페이징 쿼리 -->    <select id="findPostsByBoardId" resultType="com.gym.domain.Post" parameterType="map">
     select id="findPostsByBoardId" resultType="com.gym.domain.Post" parameterType="map">
        SELECT *
        FROM (
            SELECT a.*, ROWNUM AS rnum
            FROM (
                SELECT
                    p.post_id,
                    p.board_id,
                    p.post_title,
                    p.post_content,
                    p.post_reg_date,
                    p.post_view_count,
                    m.member_name AS memberName
                FROM
                    post_tbl p
                LEFT JOIN
                    member_tbl m ON p.member_id = m.member_id
                WHERE
                    p.board_id = #{boardId}
                ORDER BY
                    p.post_reg_date DESC, p.post_id DESC
            ) a
            WHERE ROWNUM &lt;= #{pageable.offset} + #{pageable.pageSize}
        )
        WHERE rnum &gt; #{pageable.offset}
    </select>

  <     SELECT *
        FROM (
            SELECT a.*, ROWNUM AS rnum
            FROM (
                SELECT
                    p.post_id,
                    p.board_id,
                    p.post_title,
                    p.post_content,
                    p.post_reg_date,
                    p.post_view_count,
                    m.member_name AS memberName
                FROM
                    post_tbl p
                LEFT JOIN
           ap>
    <!-- 페이징을 위한 전체 게시글 수 카운트 -->
    <select id="countPostsByBoardId" resultType="long" par meterType="int">
        SELECT
            count(*)
        FROM
             ost_tbl
        WHERE
            board_id = #{boardId}
    </select       member_tbl m ON p.member_id = m.member_id
                WHERE
                    p.board_id = #{boardId}
                ORDER BY
                    p.post_reg_date DESC, p.post_id DESC
            ) a
            WHERE ROWNUM &lt;= #{pageable.offset} + #{pageable.pageSize}
        )
        WHERE rnum &gt; #{pageable.offset}
    </sele>
  --ct>
    <!-- 다른 Post 관련쿼리들...
    <!-- 페이징을 위한 전체 게시글 수 카운트 -->
    <select id="countPostsByBoardId" resultType="long" parameterType="int">
        SELECT
            count(*)
        FROM
            post_tbl
        WHERE
            board_id = #{boardId}
    </select>

    <!-- 다른 Post 관련 쿼리들... -->

</mapper>
